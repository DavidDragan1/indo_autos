<div id="loginModal" class="modal modal-wrapper login-modal">
    <span class="material-icons modal-close">close</span>
    <div class="login-modal-title">
        <div>
            <svg width="131" height="110" viewBox="0 0 131 110" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M103.865 86.1416L91.8419 103.115L92.9173 110L99.7248 108.921L98.9397 103.709L104.575 102.792L103.65 97.1158L109.027 96.2309L109.759 90.8356C112.634 92.1381 115.83 92.5585 118.943 92.0441C121.838 91.4536 124.496 90.0214 126.586 87.9259C128.676 85.8304 130.106 83.1642 130.696 80.2594C131.287 77.3547 131.012 74.3397 129.908 71.5902C128.803 68.8407 126.916 66.4782 124.483 64.7969C122.049 63.1157 119.176 62.19 116.222 62.1352C113.268 62.0804 110.363 62.8989 107.87 64.4888C105.376 66.0786 103.403 68.3696 102.198 71.0762C100.993 73.7829 100.607 76.7856 101.091 79.7103C101.456 82.061 102.395 84.2849 103.822 86.1847L103.865 86.1416ZM43.0818 59.2401C43.3829 56.6395 35.7043 48.9673 34.3063 44.2193C31.3058 39.4066 30.2304 31.7883 33.5105 26.7167C34.8225 24.6988 34.2525 23.4794 34.2525 20.7062C34.2525 -6.89667 82.4641 -6.90746 82.4641 20.7062C82.4641 24.2024 81.6575 24.483 83.5395 27.1807C86.7013 31.7667 85.0667 39.8922 82.4641 44.1654C80.7542 49.1615 72.6884 56.3482 73.2584 59.1862C73.7316 73.3653 43.028 72.8797 43.1463 59.1862L43.0818 59.2401ZM0 97.1158C1.30127 80.185 -2.01106 84.3071 12.1201 78.9873C19.1749 76.3327 28.1871 72.966 34.7042 68.9194L46.792 97.1158H0ZM60.6328 83.746H62.375C63.1063 83.729 63.8015 83.4241 64.3106 82.8972C64.8196 82.3702 65.1017 81.6635 65.0959 80.9296V76.4406C65.0933 75.7123 64.8075 75.0139 64.2993 74.4939C63.7911 73.9739 63.1007 73.6735 62.375 73.6566H52.2767C51.9101 73.6538 51.5464 73.7236 51.2067 73.8621C50.867 74.0006 50.5579 74.2051 50.2971 74.4637C50.0363 74.7224 49.829 75.0302 49.687 75.3694C49.5451 75.7087 49.4713 76.0727 49.4699 76.4406V80.9296C49.4727 81.6671 49.7659 82.3736 50.2857 82.8951C50.8054 83.4166 51.5095 83.7108 52.2445 83.7136H53.9867L50.7066 97.1158H63.7946L60.6328 83.746ZM80.4746 67.4951C83.4048 69.3149 86.4761 70.8954 89.6588 72.2214C88.8219 76.4444 89.0287 80.8087 90.261 84.933L82.2383 96.2633C82.0339 96.5547 81.8404 96.846 81.6575 97.1482H67.9565L80.4746 67.4951ZM117.986 72.0488C117.445 72.1427 116.943 72.3949 116.545 72.7738C116.146 73.1527 115.868 73.6414 115.745 74.1784C115.623 74.7154 115.661 75.2768 115.855 75.7921C116.05 76.3073 116.392 76.7535 116.838 77.0744C117.284 77.3953 117.815 77.5767 118.364 77.5958C118.912 77.615 119.455 77.4709 119.922 77.1818C120.389 76.8927 120.761 76.4714 120.991 75.9709C121.22 75.4704 121.297 74.913 121.212 74.3688C121.153 74.0033 121.023 73.6531 120.829 73.3383C120.635 73.0235 120.38 72.7504 120.08 72.5347C119.78 72.3191 119.441 72.1651 119.081 72.0817C118.722 71.9983 118.349 71.9871 117.986 72.0488Z" fill="#F05C26"/>
            </svg>
        </div>
        <h4 class="title">Login</h4>
    </div>
    <form id="loginForm" action="auth/login" method="post">
        <div class="input-style">
            <label for="email">
                <svg width="23" height="16" viewBox="0 0 23 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21.1128 0H1.62406C1.19333 0 0.780246 0.168571 0.475676 0.468629C0.171106 0.768687 0 1.17565 0 1.6V14.4C0 14.8243 0.171106 15.2313 0.475676 15.5314C0.780246 15.8314 1.19333 16 1.62406 16H21.1128C21.5435 16 21.9566 15.8314 22.2612 15.5314C22.5657 15.2313 22.7368 14.8243 22.7368 14.4V1.6C22.7368 1.17565 22.5657 0.768687 22.2612 0.468629C21.9566 0.168571 21.5435 0 21.1128 0ZM19.3263 1.6L11.3684 7.024L3.41053 1.6H19.3263ZM1.62406 14.4V2.328L10.9056 8.656C11.0415 8.7489 11.203 8.79869 11.3684 8.79869C11.5339 8.79869 11.6953 8.7489 11.8313 8.656L21.1128 2.328V14.4H1.62406Z" fill="#F05C26"/>
                </svg>
                Email : 
            </label>
            <input class="browser-default" id="email" name="username" type="email" required>
        </div>
        <div class="input-style mb-0">
            <label for="password">
                <svg width="22" height="16" viewBox="0 0 22 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.04925 5.70075C7.98539 5.63673 7.90952 5.58593 7.826 5.55127C7.74247 5.51661 7.65293 5.49877 7.5625 5.49877C7.47207 5.49877 7.38253 5.51661 7.299 5.55127C7.21548 5.58593 7.13961 5.63673 7.07575 5.70075L6.1875 6.59038L5.29925 5.70075C5.17016 5.57166 4.99507 5.49913 4.8125 5.49913C4.62993 5.49913 4.45484 5.57166 4.32575 5.70075C4.19666 5.82984 4.12413 6.00493 4.12413 6.1875C4.12413 6.37007 4.19666 6.54516 4.32575 6.67425L5.21538 7.5625L4.32575 8.45075C4.19666 8.57984 4.12413 8.75493 4.12413 8.9375C4.12413 9.12007 4.19666 9.29516 4.32575 9.42425C4.45484 9.55334 4.62993 9.62587 4.8125 9.62587C4.99507 9.62587 5.17016 9.55334 5.29925 9.42425L6.1875 8.53463L7.07575 9.42425C7.20484 9.55334 7.37993 9.62587 7.5625 9.62587C7.74507 9.62587 7.92016 9.55334 8.04925 9.42425C8.17834 9.29516 8.25087 9.12007 8.25087 8.9375C8.25087 8.75493 8.17834 8.57984 8.04925 8.45075L7.15962 7.5625L8.04925 6.67425C8.11327 6.61039 8.16407 6.53452 8.19873 6.451C8.23339 6.36747 8.25123 6.27793 8.25123 6.1875C8.25123 6.09707 8.23339 6.00753 8.19873 5.924C8.16407 5.84048 8.11327 5.76461 8.04925 5.70075ZM12.5758 5.70075C12.7048 5.57166 12.8799 5.49913 13.0625 5.49913C13.2451 5.49913 13.4202 5.57166 13.5492 5.70075C13.6783 5.82984 13.7509 6.00493 13.7509 6.1875C13.7509 6.37007 13.6783 6.54516 13.5492 6.67425L12.6596 7.5625L13.5492 8.45075C13.6783 8.57984 13.7509 8.75493 13.7509 8.9375C13.7509 9.12007 13.6783 9.29516 13.5492 9.42425C13.4202 9.55334 13.2451 9.62587 13.0625 9.62587C12.8799 9.62587 12.7048 9.55334 12.5758 9.42425L11.6875 8.53463L10.7992 9.42425C10.6702 9.55334 10.4951 9.62587 10.3125 9.62587C10.1299 9.62587 9.95484 9.55334 9.82575 9.42425C9.69666 9.29516 9.62413 9.12007 9.62413 8.9375C9.62413 8.75493 9.69666 8.57984 9.82575 8.45075L10.7154 7.5625L9.82575 6.67425C9.69666 6.54516 9.62413 6.37007 9.62413 6.1875C9.62413 6.00493 9.69666 5.82984 9.82575 5.70075C9.95484 5.57166 10.1299 5.49913 10.3125 5.49913C10.4951 5.49913 10.6702 5.57166 10.7992 5.70075L11.6875 6.59038L12.5758 5.70075ZM15.8125 8.25C15.6302 8.25 15.4553 8.32243 15.3264 8.45136C15.1974 8.58029 15.125 8.75516 15.125 8.9375C15.125 9.11984 15.1974 9.29471 15.3264 9.42364C15.4553 9.55257 15.6302 9.625 15.8125 9.625H18.5625C18.7448 9.625 18.9197 9.55257 19.0486 9.42364C19.1776 9.29471 19.25 9.11984 19.25 8.9375C19.25 8.75516 19.1776 8.58029 19.0486 8.45136C18.9197 8.32243 18.7448 8.25 18.5625 8.25H15.8125ZM3.78125 0C2.7784 0 1.81662 0.39838 1.1075 1.1075C0.398381 1.81662 0 2.7784 0 3.78125V11.3438C0 12.3466 0.398381 13.3084 1.1075 14.0175C1.81662 14.7266 2.7784 15.125 3.78125 15.125H18.2188C19.2216 15.125 20.1834 14.7266 20.8925 14.0175C21.6016 13.3084 22 12.3466 22 11.3438V3.78125C22 2.7784 21.6016 1.81662 20.8925 1.1075C20.1834 0.39838 19.2216 0 18.2188 0H3.78125ZM1.375 3.78125C1.375 2.453 2.453 1.375 3.78125 1.375H18.2188C19.547 1.375 20.625 2.453 20.625 3.78125V11.3438C20.625 11.9819 20.3715 12.594 19.9202 13.0452C19.469 13.4965 18.8569 13.75 18.2188 13.75H3.78125C3.14307 13.75 2.53103 13.4965 2.07977 13.0452C1.62852 12.594 1.375 11.9819 1.375 11.3438V3.78125Z" fill="#F05C26"/>
                </svg>
                Password :  
            </label>
            <input class="browser-default" id="password" name="password" type="password" required>
        </div>
        <div class="text-right">
            <a class="forgot-password" href="forget-password">Forgot Password?</a>
        </div>
        <div class="g-recaptcha" data-sitekey="<?php echo config_item('site_key'); ?>"></div>
        
        <div class="text-center">
            <button type="submit" class="modal-login-btn waves-effect mt-20">Log in</button>
        </div>
        <a href="my-account?mode=signup" class="signup-login">Sign Up</a>
    </form>
</div>
<script type="text/javascript" src="assets/new-theme/js/jquery.validate.min.js"></script>
<script type="text/javascript" src='https://www.google.com/recaptcha/api.js' async defer ></script>
<script>
    $('.login-required').on('click', function(){
        $('#loginModal').modal('open')
    })

    $("#loginForm").validate({
        errorElement: 'span',
        errorClass: 'error-message',
        rules: {
            password: {
                required: true,
                minlength: 6
            },
            email: {
                required: true,
                email: true
            },
        },
        messages: {
            password: {
                required: "Please provide a password",
                minlength: "Your password must be at least 6 characters long"
            },
            email: "Please enter a valid email address",
        },
        submitHandler: function(form) {
            var userData = jQuery('#loginForm').serialize();
            jQuery.ajax({
                url: 'auth/login',
                type: "POST",
                dataType: "json",
                cache: false,
                data: userData,
                beforeSend: function(){
                    tosetrMessage('waring', 'Please Wait... Checking....');
                },
                success: function( jsonData ){
                    if(jsonData.Status === 'OK'){
                        tosetrMessage('success', jsonData.Msg);
                        location.reload();
                    } else {
                        grecaptcha.reset();
                        tosetrMessage('error', jsonData.Msg);
                    }
                },
                error: function(XMLHttpRequest, textStatus, errorThrown) {
                    tosetrMessage('success', XMLHttpRequest);
                }
            });
        }
    });
</script>